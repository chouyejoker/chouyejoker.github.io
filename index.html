<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-算法突击训练笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/03/09/%E7%AE%97%E6%B3%95%E7%AA%81%E5%87%BB%E8%AE%AD%E7%BB%83%E7%AC%94%E8%AE%B0/" class="article-date">
  <time datetime="2022-03-09T12:06:50.670Z" itemprop="datePublished">2022-03-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="算法突击训练笔记"><a href="#算法突击训练笔记" class="headerlink" title="算法突击训练笔记"></a>算法突击训练笔记</h1><h2 id="6C解题方法论"><a href="#6C解题方法论" class="headerlink" title="6C解题方法论"></a>6C解题方法论</h2><p>![image-20210317102626865](/Users/louwen/Library/Application Support/typora-user-images/image-20210317102626865.png)</p>
<h2 id="一些技巧"><a href="#一些技巧" class="headerlink" title="一些技巧"></a>一些技巧</h2><h3 id="反转字符串"><a href="#反转字符串" class="headerlink" title="反转字符串"></a>反转字符串</h3><p>常规想法就是暴力反转，但是可以<strong>首尾交换</strong>来实现，用到了数组<strong>原地交换</strong></p>
<h4 id="leetcode7-整数反转"><a href="#leetcode7-整数反转" class="headerlink" title="leetcode7 整数反转"></a>leetcode7 整数反转</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cute.leetcode.editor.cn;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReverseInteger</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Solution</span> <span class="variable">solution</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReverseInteger</span>().<span class="keyword">new</span> <span class="title class_">Solution</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (x == Integer.MIN_VALUE) &#123;</span><br><span class="line">                <span class="comment">// 整数类型的最小值的绝对值 比 最大值的绝对值 大1</span></span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sign</span> <span class="operator">=</span> x &gt; <span class="number">0</span> ? <span class="number">1</span> : -<span class="number">1</span>; <span class="comment">// 符号</span></span><br><span class="line">            x = x &lt; <span class="number">0</span> ? -x : x; <span class="comment">// 无论正负，都当成正数</span></span><br><span class="line">            <span class="comment">// 1.整数转字符串，再转字符数组</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> String.valueOf(x);</span><br><span class="line">            <span class="type">char</span>[] chars = str.toCharArray();</span><br><span class="line">            <span class="comment">// 交换首位(start)和末位(end)数字</span></span><br><span class="line">            <span class="comment">// 2.循环操作：依次交换第二(start++)和倒数第二个(end--)</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>, end = chars.length - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (start &lt; end) &#123; <span class="comment">// 反转完成的标志：start &gt;= end</span></span><br><span class="line">                <span class="comment">// 交换两端等距离的元素</span></span><br><span class="line">                <span class="type">char</span> <span class="variable">temp</span> <span class="operator">=</span> chars[start];</span><br><span class="line">                chars[start] = chars[end];</span><br><span class="line">                chars[end] = temp;</span><br><span class="line">                start++;</span><br><span class="line">                end--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 3.将新数组转成字符串，再转成整数输出</span></span><br><span class="line">            <span class="comment">// Integer result = Integer.valueOf(String.valueOf(array));</span></span><br><span class="line">            <span class="type">long</span> <span class="variable">value</span> <span class="operator">=</span> Long.valueOf(String.valueOf(chars));</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> value &gt; Integer.MAX_VALUE || value &lt; Integer.MIN_VALUE;</span><br><span class="line">            <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> b ? <span class="number">0</span> : (<span class="type">int</span>)value; <span class="comment">// 数值越界：溢出则返回0</span></span><br><span class="line">            <span class="keyword">return</span> result * sign;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果是数字反转还可以利用数学思维来处理，取余，除法来解决</p>
<h3 id="数字转换成二进制字符串"><a href="#数字转换成二进制字符串" class="headerlink" title="数字转换成二进制字符串"></a>数字转换成二进制字符串</h3><h4 id="Leetcode190-颠倒二进制位"><a href="#Leetcode190-颠倒二进制位" class="headerlink" title="Leetcode190 颠倒二进制位"></a>Leetcode190 颠倒二进制位</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cute.leetcode.editor.cn;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReverseBits</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Solution</span> <span class="variable">solution</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReverseBits</span>().<span class="keyword">new</span> <span class="title class_">Solution</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//leetcode submit region begin(Prohibit modification and deletion)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// you need treat n as an unsigned value</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">reverseBits</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="comment">// 处理输入 转换成字符串</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> Integer.toBinaryString(n);</span><br><span class="line">        <span class="keyword">if</span>(n&gt;=<span class="number">0</span>) &#123;</span><br><span class="line">            s = String.format(<span class="string">&quot;%32s&quot;</span>,s).replaceAll(<span class="string">&quot; &quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            s = String.format(<span class="string">&quot;%32s&quot;</span>,s).replaceAll(<span class="string">&quot; &quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        System.out.println(s);</span></span><br><span class="line"><span class="comment">//        System.out.println(s.length());</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 放入数组</span></span><br><span class="line">        <span class="type">char</span>[] chars = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">32</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;<span class="number">32</span>;i++) &#123;</span><br><span class="line">            chars[i] = s.charAt(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 进行原地翻转</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">31</span>;</span><br><span class="line">        <span class="keyword">while</span> (left&lt;=right) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">temp</span> <span class="operator">=</span> chars[left];</span><br><span class="line">            chars[left] = chars[right];</span><br><span class="line">            chars[right] = temp;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">ans</span> <span class="operator">=</span> String.valueOf(chars);</span><br><span class="line"><span class="comment">//        System.out.println(ans);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 输出</span></span><br><span class="line">        <span class="keyword">return</span> Integer.parseUnsignedInt(ans,<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//leetcode submit region end(Prohibit modification and deletion)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="翻转链表-需要交换节点位置"><a href="#翻转链表-需要交换节点位置" class="headerlink" title="翻转链表 需要交换节点位置"></a>翻转链表 需要交换节点位置</h3><p>多画图</p>
<h4 id="leetcode206-反转链表"><a href="#leetcode206-反转链表" class="headerlink" title="leetcode206 反转链表"></a>leetcode206 反转链表</h4><h5 id="迭代"><a href="#迭代" class="headerlink" title="迭代"></a>迭代</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">prev</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">curr</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span>(curr!=<span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">next</span> <span class="operator">=</span> curr.next;</span><br><span class="line">            curr.next = prev;</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prev;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h5><p>重点是这块，需要理解其拆分子问题的思路</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">    <span class="comment">// 1. 递归终止条件</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">null</span> || head.next == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">p</span> <span class="operator">=</span> reverseList(head.next);</span><br><span class="line">    head.next.next = head;</span><br><span class="line">    head.next = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="利用链表实现大数相加"><a href="#利用链表实现大数相加" class="headerlink" title="利用链表实现大数相加"></a>利用链表实现大数相加</h3><h4 id="leetcode2-两数相加"><a href="#leetcode2-两数相加" class="headerlink" title="leetcode2 两数相加"></a>leetcode2 两数相加</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p</span> <span class="operator">=</span> l1, q = l2; <span class="comment">// 原链表的两个遍历指针</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">resultHead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>); <span class="comment">// 结果链表的头结点head</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">curr</span> <span class="operator">=</span> resultHead; <span class="comment">// 结果链表的遍历指针，代表当前操作的节点</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">carry</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// 进位</span></span><br><span class="line">        <span class="comment">// 1.遍历两个链表</span></span><br><span class="line">        <span class="keyword">while</span> (p != <span class="literal">null</span> || q != <span class="literal">null</span>) &#123; <span class="comment">// 以⻓链表为准</span></span><br><span class="line">            <span class="comment">// 获取当前节点的值：链表较短，已⽆节点，取0</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> p != <span class="literal">null</span> ? p.val : <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> q != <span class="literal">null</span> ? q.val : <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// 2.对应位置的节点数值相加</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> x + y + carry;</span><br><span class="line">            carry = sum / <span class="number">10</span>; <span class="comment">// 如何得到进位：和对10求整，得到此次计算的进位</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> sum % <span class="number">10</span>; <span class="comment">// 存放到新链表节点中的数值</span></span><br><span class="line">            <span class="comment">// 3.将计算结果插⼊新链表尾部</span></span><br><span class="line">            curr.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(num); <span class="comment">// 创建新节点</span></span><br><span class="line">            curr = curr.next;</span><br><span class="line">            p = p == <span class="literal">null</span> ? p : p.next;</span><br><span class="line">            q = q == <span class="literal">null</span> ? q : q.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (carry &gt; <span class="number">0</span>) &#123; <span class="comment">// 处理进位节点</span></span><br><span class="line">            curr.next = <span class="keyword">new</span> <span class="title class_">ListNode</span>(carry);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resultHead.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="不使用运算符-和-，计算两整数-a-、b-之和。"><a href="#不使用运算符-和-，计算两整数-a-、b-之和。" class="headerlink" title="不使用运算符 + 和 - ，计算两整数 a 、b 之和。"></a><strong>不使用</strong>运算符 <code>+</code> 和 <code>-</code> ，计算两整数 <code>a</code> 、<code>b</code> 之和。</h3><p>位运算，及其巧妙的思路，二进制情况下，结合异或和与运算，来得出每一位的结果</p>
<p>![image-20210318135740747](/Users/louwen/Library/Application Support/typora-user-images/image-20210318135740747.png)</p>
<p>力扣链接：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/sum-of-two-integers/solution/wei-yun-suan-xiang-jie-yi-ji-zai-python-zhong-xu-y/">https://leetcode-cn.com/problems/sum-of-two-integers/solution/wei-yun-suan-xiang-jie-yi-ji-zai-python-zhong-xu-y/</a></p>
<h4 id="leetcode371-两整数之和"><a href="#leetcode371-两整数之和" class="headerlink" title="leetcode371 两整数之和"></a>leetcode371 两整数之和</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(b != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> a ^ b;</span><br><span class="line">            b = (a &amp; b) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">            a = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="双端队列-代替栈和基础队列"><a href="#双端队列-代替栈和基础队列" class="headerlink" title="双端队列 代替栈和基础队列"></a>双端队列 代替栈和基础队列</h3><h4 id="leetcode445-两数相加II"><a href="#leetcode445-两数相加II" class="headerlink" title="leetcode445 两数相加II"></a>leetcode445 两数相加II</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">addTwoNumbers</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">        <span class="comment">// 需要翻转链表</span></span><br><span class="line">        <span class="comment">// 可以利用栈来实现</span></span><br><span class="line">        Deque&lt;Integer&gt; stack1 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">        Deque&lt;Integer&gt; stack2 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="comment">// 入栈</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p</span> <span class="operator">=</span> l1;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">q</span> <span class="operator">=</span> l2;</span><br><span class="line">        <span class="keyword">while</span> (p!=<span class="literal">null</span>) &#123;</span><br><span class="line">            stack1.addLast(p.val);</span><br><span class="line">            p = p.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (q!=<span class="literal">null</span>) &#123;</span><br><span class="line">            stack2.addLast(q.val);</span><br><span class="line">            q = q.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 剪枝</span></span><br><span class="line">        <span class="keyword">if</span>(stack1.size()==<span class="number">0</span> &amp;&amp; stack2.size()==<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 出栈</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">carry</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">while</span> (stack1.size()!=<span class="number">0</span> || stack2.size()!=<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> stack1.size()==<span class="number">0</span> ? <span class="number">0</span> : stack1.pollLast();</span><br><span class="line">            <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> stack2.size()==<span class="number">0</span> ? <span class="number">0</span> : stack2.pollLast();</span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> x+y+carry;</span><br><span class="line">            ans.val = sum%<span class="number">10</span>;</span><br><span class="line">            carry = sum/<span class="number">10</span>;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">            temp.next = ans;</span><br><span class="line">            ans = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(carry!=<span class="number">0</span>) &#123;</span><br><span class="line">            ans.val = carry;</span><br><span class="line">            <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">            temp.next = ans;</span><br><span class="line">            ans = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="辅助栈-也可以用链表"><a href="#辅助栈-也可以用链表" class="headerlink" title="辅助栈 也可以用链表"></a>辅助栈 也可以用链表</h3><h4 id="leetcode155-最小栈"><a href="#leetcode155-最小栈" class="headerlink" title="leetcode155 最小栈"></a>leetcode155 最小栈</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MinStack</span> &#123;</span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    Deque&lt;Integer&gt; myStack;</span><br><span class="line">    Deque&lt;Integer&gt; minStack;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MinStack</span><span class="params">()</span> &#123;</span><br><span class="line">        myStack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">        minStack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">        minStack.push(Integer.MAX_VALUE);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        myStack.addLast(val);</span><br><span class="line">        minStack.addLast(Math.min(minStack.peekLast(), val));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        myStack.pollLast();</span><br><span class="line">        minStack.pollLast();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> myStack.peekLast();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> minStack.peekLast();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="剑指-Offer-31-栈的压入、弹出序列"><a href="#剑指-Offer-31-栈的压入、弹出序列" class="headerlink" title="剑指 Offer 31. 栈的压入、弹出序列"></a>剑指 Offer 31. 栈的压入、弹出序列</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validateStackSequences</span><span class="params">(<span class="type">int</span>[] pushed, <span class="type">int</span>[] popped)</span> &#123;</span><br><span class="line">        Deque&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="comment">// 分析</span></span><br><span class="line">        <span class="comment">// 先压入的数据不可能出栈比后入栈的数据早</span></span><br><span class="line">        <span class="comment">// 结合解答去大神的评论 知道了利用栈来实现一遍这个push pop过程，若最后栈不为空，则返回false</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;pushed.length;i++) &#123;</span><br><span class="line">            stack.addLast(pushed[i]);</span><br><span class="line">            <span class="keyword">while</span> (!stack.isEmpty() &amp;&amp; stack.peekLast()==popped[idx]) &#123;</span><br><span class="line">                stack.pollLast();</span><br><span class="line">                idx++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="存在一边进-一边出-要想到队列"><a href="#存在一边进-一边出-要想到队列" class="headerlink" title="存在一边进 一边出 要想到队列"></a>存在一边进 一边出 要想到队列</h3><h4 id="leetcode933-最近的请求次数"><a href="#leetcode933-最近的请求次数" class="headerlink" title="leetcode933 最近的请求次数"></a>leetcode933 最近的请求次数</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RecentCounter</span> &#123;</span><br><span class="line"></span><br><span class="line">    Deque&lt;Integer&gt; myQueue;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RecentCounter</span><span class="params">()</span> &#123;</span><br><span class="line">        myQueue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">ping</span><span class="params">(<span class="type">int</span> t)</span> &#123;</span><br><span class="line">        myQueue.addLast(t);</span><br><span class="line">        <span class="keyword">while</span> (myQueue.peekFirst()&lt;t-<span class="number">3000</span>) myQueue.pollFirst();</span><br><span class="line">        <span class="keyword">return</span> myQueue.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="看到连续子数组，求和，联想到前缀和"><a href="#看到连续子数组，求和，联想到前缀和" class="headerlink" title="看到连续子数组，求和，联想到前缀和"></a>看到<strong>连续子数组，求和</strong>，联想到前缀和</h3><p>拷贝自：<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shortest-subarray-with-sum-at-least-k/solution/qian-zhui-he-java-by-li-70-2d7g/">https://leetcode-cn.com/problems/shortest-subarray-with-sum-at-least-k/solution/qian-zhui-he-java-by-li-70-2d7g/</a></p>
<h4 id="leetcode862-和至少为-K-的最短子数组"><a href="#leetcode862-和至少为-K-的最短子数组" class="headerlink" title="leetcode862 和至少为 K 的最短子数组"></a>leetcode862 和至少为 K 的最短子数组</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">shortestSubarray</span><span class="params">(<span class="type">int</span>[] A, <span class="type">int</span> K)</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> A.length;</span><br><span class="line">            <span class="type">long</span>[] p = <span class="keyword">new</span> <span class="title class_">long</span>[n+<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> Integer.MAX_VALUE;<span class="comment">//答案</span></span><br><span class="line">            <span class="comment">//构造前缀和</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">                p[i + <span class="number">1</span>] = p[i] + (<span class="type">long</span>) A[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//构建单调队列</span></span><br><span class="line">            Deque&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">            queue.add(<span class="number">0</span>);<span class="comment">//边界值0， p[0] = 0</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n + <span class="number">1</span>; i++)&#123;</span><br><span class="line">                <span class="comment">//不满足条件，right边界左移，消除负贡献</span></span><br><span class="line">                <span class="keyword">while</span>(!queue.isEmpty() &amp;&amp; p[i] &lt;= p[queue.getLast()])&#123;</span><br><span class="line">                    queue.removeLast();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//最优化left边界，缩小区间长度</span></span><br><span class="line">                <span class="keyword">while</span>(!queue.isEmpty() &amp;&amp; p[i] - p[queue.getFirst()] &gt;= K)&#123;</span><br><span class="line">                    ans = Math.min(ans, i - queue.removeFirst());</span><br><span class="line">                &#125;</span><br><span class="line">                queue.addLast(i);<span class="comment">//入队</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">return</span> <span class="variable">ans</span> <span class="operator">=</span>= Integer.MAX_VALUE ?  -<span class="number">1</span> : ans;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="判断环形链表：快慢指针-HashSet"><a href="#判断环形链表：快慢指针-HashSet" class="headerlink" title="判断环形链表：快慢指针/HashSet"></a>判断环形链表：快慢指针/HashSet</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasCycle</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">null</span> || head.next==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">p</span> <span class="operator">=</span> head;</span><br><span class="line">        Set&lt;ListNode&gt; list = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;ListNode&gt;();</span><br><span class="line">        <span class="keyword">while</span>(p!=<span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(list.contains(p)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            list.add(p);</span><br><span class="line">            p = p.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// public class Solution &#123;</span></span><br><span class="line"><span class="comment">//     public boolean hasCycle(ListNode head) &#123;</span></span><br><span class="line"><span class="comment">//         if(head==null || head.next==null) return false;</span></span><br><span class="line"><span class="comment">//         ListNode fast = head.next;</span></span><br><span class="line"><span class="comment">//         ListNode slow = head;</span></span><br><span class="line"><span class="comment">//         while (slow != fast) &#123;</span></span><br><span class="line"><span class="comment">//             if (fast == null || fast.next == null) &#123;</span></span><br><span class="line"><span class="comment">//                 return false;</span></span><br><span class="line"><span class="comment">//             &#125;</span></span><br><span class="line"><span class="comment">//             slow = slow.next;</span></span><br><span class="line"><span class="comment">//             fast = fast.next.next;</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//         return true;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="跳表、映射表"><a href="#跳表、映射表" class="headerlink" title="跳表、映射表"></a>跳表、映射表</h3><h4 id="leetcode1206-设计跳表"><a href="#leetcode1206-设计跳表" class="headerlink" title="leetcode1206 设计跳表"></a>leetcode1206 设计跳表</h4><p>跳表是在 O(log(n)) 时间内完成增加、删除、搜索操作的数据结构。跳表相比于树堆与红黑树，其功能与性能相当，并且跳表的代码长度相较下更短，其设计思想与链表相似。</p>
<p>跳表中有许多层，每一层都是一个链表</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Skiplist</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">        <span class="type">int</span> val;</span><br><span class="line">        Node right,down;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>(val,<span class="literal">null</span>,<span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> val, Node right,Node down)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.val = val;</span><br><span class="line">            <span class="built_in">this</span>.right = right;</span><br><span class="line">            <span class="built_in">this</span>.down = down;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">HEAD_VALUE</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    Node HEAD= <span class="keyword">new</span> <span class="title class_">Node</span>(HEAD_VALUE);</span><br><span class="line">    Node head;</span><br><span class="line">    <span class="type">int</span> levels;</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Skiplist</span><span class="params">()</span> &#123;</span><br><span class="line">        head = HEAD;</span><br><span class="line">        levels =<span class="number">1</span>;</span><br><span class="line">        length =<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (node!=<span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (node.right!=<span class="literal">null</span> &amp;&amp; node.right.val&lt;target) &#123;</span><br><span class="line">                node = node.right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">right</span> <span class="operator">=</span> node.right;</span><br><span class="line">            <span class="keyword">if</span>(right!=<span class="literal">null</span> &amp;&amp; right.val==target) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            node = node.down;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="comment">// 记录每一次down的位置，因为这是可能会生成索引的位置</span></span><br><span class="line">        Node[] nodes = <span class="keyword">new</span> <span class="title class_">Node</span>[levels];</span><br><span class="line">        <span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (node!=<span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (node.right!=<span class="literal">null</span> &amp;&amp; node.right.val&lt;num) &#123;</span><br><span class="line">                node = node.right;</span><br><span class="line">            &#125;</span><br><span class="line">            nodes[i++] = node;</span><br><span class="line">            <span class="keyword">if</span>(node.down==<span class="literal">null</span>) <span class="keyword">break</span>;</span><br><span class="line">            node = node.down;</span><br><span class="line">        &#125;</span><br><span class="line">        node = nodes[--i];</span><br><span class="line">        <span class="type">Node</span> <span class="variable">newNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(num,node.right,<span class="literal">null</span>);</span><br><span class="line">        node.right = newNode;</span><br><span class="line">        length++;</span><br><span class="line">        <span class="comment">// 生成索引</span></span><br><span class="line">        addIndicesByCoinFlip(newNode, nodes, i);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">erase</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">exist</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (node!=<span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (node.right!=<span class="literal">null</span> &amp;&amp; node.right.val&lt;num) &#123;</span><br><span class="line">                node = node.right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">right</span> <span class="operator">=</span> node.right;</span><br><span class="line">            <span class="keyword">if</span>(right!=<span class="literal">null</span> &amp;&amp; right.val==num)&#123;</span><br><span class="line">                node.right = right.right;</span><br><span class="line">                right.right = <span class="literal">null</span>;</span><br><span class="line">                exist = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            node = node.down;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(exist) length--;</span><br><span class="line">        <span class="keyword">return</span> exist;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">addIndicesByCoinFlip</span><span class="params">(Node target, Node[] nodes, <span class="type">int</span> indices)</span>&#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">downNode</span> <span class="operator">=</span> target;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">coins</span> <span class="operator">=</span> random.nextInt(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">// 在现有层级范围内创建索引</span></span><br><span class="line">        <span class="keyword">while</span> (coins==<span class="number">1</span> &amp;&amp; indices&gt;<span class="number">0</span> &amp;&amp; levels&lt;(length&gt;&gt;<span class="number">6</span>))&#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">prev</span> <span class="operator">=</span> nodes[--indices]; <span class="comment">// 数组的倒数第二个元素，level 2</span></span><br><span class="line">            <span class="type">Node</span> <span class="variable">newIndex</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(target.val, prev.right, downNode);</span><br><span class="line">            prev.right = newIndex;</span><br><span class="line">            downNode = newIndex;</span><br><span class="line"></span><br><span class="line">            coins = random.nextInt(<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 决定是否决定一层超出跳表层数的索引</span></span><br><span class="line">        <span class="keyword">if</span>(coins==<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">newIndex</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(target.val, <span class="literal">null</span>, downNode);</span><br><span class="line">            <span class="type">Node</span> <span class="variable">newHead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(HEAD_VALUE, newIndex, head);</span><br><span class="line">            head = newHead;</span><br><span class="line">            levels++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="滑动窗口"><a href="#滑动窗口" class="headerlink" title="滑动窗口"></a>滑动窗口</h3><p>需要知道对应字符的索引，可以用map来代替hash表</p>
<h4 id="leetcode3-无重复字符的最长字串"><a href="#leetcode3-无重复字符的最长字串" class="headerlink" title="leetcode3 无重复字符的最长字串"></a>leetcode3 无重复字符的最长字串</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">            <span class="comment">// 统计字符对应出现最晚位置的索引</span></span><br><span class="line">            HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">            <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>, start = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> <span class="number">0</span>; end &lt; s.length(); end++) &#123;</span><br><span class="line">                <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> s.charAt(end);</span><br><span class="line">                <span class="keyword">if</span> (map.containsKey(ch))&#123;</span><br><span class="line">                    start = Math.max(map.get(ch)+<span class="number">1</span>,start);</span><br><span class="line">                &#125;</span><br><span class="line">                max = Math.max(max,end - start + <span class="number">1</span>);</span><br><span class="line">                map.put(ch,end);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> max;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="快速幂-递归"><a href="#快速幂-递归" class="headerlink" title="快速幂 递归"></a>快速幂 递归</h3><h4 id="leetcode50-Pow-x-n"><a href="#leetcode50-Pow-x-n" class="headerlink" title="leetcode50 Pow(x, n)"></a>leetcode50 Pow(x, n)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">quickMul</span><span class="params">(<span class="type">double</span> x, <span class="type">long</span> N)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (N == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">double</span> <span class="variable">y</span> <span class="operator">=</span> quickMul(x, N / <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> N % <span class="number">2</span> == <span class="number">0</span> ? y * y : y * y * x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">N</span> <span class="operator">=</span> n;</span><br><span class="line">        <span class="keyword">return</span> N &gt;= <span class="number">0</span> ? quickMul(x, N) : <span class="number">1.0</span> / quickMul(x, -N);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><p>![image-20210326115808254](/Users/louwen/Library/Application Support/typora-user-images/image-20210326115808254.png)</p>
<p>参考链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41190227/article/details/86600821">https://blog.csdn.net/weixin_41190227/article/details/86600821</a></p>
<h3 id="分治的经典题目"><a href="#分治的经典题目" class="headerlink" title="分治的经典题目"></a>分治的经典题目</h3><h4 id="leetcode241-为运算表达式设计优先级"><a href="#leetcode241-为运算表达式设计优先级" class="headerlink" title="leetcode241 为运算表达式设计优先级"></a>leetcode241 为运算表达式设计优先级</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">diffWaysToCompute</span><span class="params">(String input)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> partition(input);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">partition</span><span class="params">(String input)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (!input.contains(<span class="string">&quot;+&quot;</span>) &amp;&amp; !input.contains(<span class="string">&quot;-&quot;</span>) &amp;&amp; !input.contains(<span class="string">&quot;*&quot;</span>)) &#123;</span><br><span class="line">            result.add(Integer.valueOf(input));</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; input.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (input.charAt(i) == <span class="string">&#x27;+&#x27;</span> || input.charAt(i) == <span class="string">&#x27;-&#x27;</span> || input.charAt(i) == <span class="string">&#x27;*&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span>(Integer left : partition(input.substring(<span class="number">0</span>, i))) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (Integer right : partition(input.substring(i + <span class="number">1</span>))) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (input.charAt(i) == <span class="string">&#x27;+&#x27;</span>) &#123;</span><br><span class="line">                            result.add(left + right);</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (input.charAt(i) == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">                            result.add(left - right);</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (input.charAt(i) == <span class="string">&#x27;*&#x27;</span>) &#123;</span><br><span class="line">                            result.add(left * right);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 归并排序</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] mergeSort(<span class="type">int</span>[] arr)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr.length&lt;<span class="number">2</span>) <span class="keyword">return</span> arr;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> arr.length/<span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span>[] left = Arrays.copyOfRange(arr, <span class="number">0</span>, mid);</span><br><span class="line">        left = mergeSort(left);</span><br><span class="line">        <span class="type">int</span>[] right = Arrays.copyOfRange(arr, mid, arr.length);</span><br><span class="line">        right = mergeSort(right);</span><br><span class="line">        <span class="keyword">return</span> merge(left,right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 合并两个数组</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] merge(<span class="type">int</span>[] l,<span class="type">int</span>[] r) &#123;</span><br><span class="line">        <span class="type">int</span>[] result = <span class="keyword">new</span> <span class="title class_">int</span>[l.length+r.length];</span><br><span class="line">        <span class="type">int</span> <span class="variable">lIndex</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> rIndex=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;result.length;i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(lIndex&lt;l.length &amp;&amp; rIndex&lt;r.length)&#123;</span><br><span class="line">                <span class="keyword">if</span>(l[lIndex]&lt;r[rIndex])&#123;</span><br><span class="line">                    result[i] = l[lIndex];</span><br><span class="line">                    lIndex++;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    result[i] = r[rIndex];</span><br><span class="line">                    rIndex++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(lIndex&gt;=l.length) &#123;</span><br><span class="line">                result[i] = r[rIndex];</span><br><span class="line">                rIndex++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                result[i] = l[lIndex];</span><br><span class="line">                lIndex++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="利用PriorityQueue实现最大堆"><a href="#利用PriorityQueue实现最大堆" class="headerlink" title="利用PriorityQueue实现最大堆"></a>利用PriorityQueue实现最大堆</h3><h4 id="leetcode767-重构字符串"><a href="#leetcode767-重构字符串" class="headerlink" title="leetcode767 重构字符串"></a>leetcode767 重构字符串</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reorganizeString</span><span class="params">(String S)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (S.length() &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> S;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] counts = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxCount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> S.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> S.charAt(i);</span><br><span class="line">            counts[c - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">            maxCount = Math.max(maxCount, counts[c - <span class="string">&#x27;a&#x27;</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (maxCount &gt; (length + <span class="number">1</span>) / <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        PriorityQueue&lt;Character&gt; queue = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;Character&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Character&gt;() &#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Character letter1, Character letter2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> counts[letter2 - <span class="string">&#x27;a&#x27;</span>] - counts[letter1 - <span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>; c &lt;= <span class="string">&#x27;z&#x27;</span>; c++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (counts[c - <span class="string">&#x27;a&#x27;</span>] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                queue.offer(c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="keyword">while</span> (queue.size() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">letter1</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            <span class="type">char</span> <span class="variable">letter2</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            sb.append(letter1);</span><br><span class="line">            sb.append(letter2);</span><br><span class="line">            <span class="type">int</span> <span class="variable">index1</span> <span class="operator">=</span> letter1 - <span class="string">&#x27;a&#x27;</span>, index2 = letter2 - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            counts[index1]--;</span><br><span class="line">            counts[index2]--;</span><br><span class="line">            <span class="keyword">if</span> (counts[index1] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                queue.offer(letter1);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (counts[index2] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                queue.offer(letter2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (queue.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            sb.append(queue.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="二叉树求全部路径模版"><a href="#二叉树求全部路径模版" class="headerlink" title="二叉树求全部路径模版"></a>二叉树求全部路径模版</h3><h4 id="leetcode113-路径总和-II"><a href="#leetcode113-路径总和-II" class="headerlink" title="leetcode113 路径总和 II"></a>leetcode113 路径总和 II</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; all_path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">pathSum</span><span class="params">(TreeNode root, <span class="type">int</span> sum)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; path = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        dfs(root, path);</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;all_path.size();i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;all_path.get(i).size();j++) &#123;</span><br><span class="line">                num+=all_path.get(i).get(j);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num==sum) &#123;</span><br><span class="line">                ans.add(all_path.get(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(TreeNode root, List&lt;Integer&gt; path)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(root==<span class="literal">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        path.add(root.val);</span><br><span class="line">        <span class="keyword">if</span>(root.left==<span class="literal">null</span> &amp;&amp; root.right==<span class="literal">null</span>) &#123;</span><br><span class="line">            List&lt;Integer&gt; temp = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;path.size();i++)&#123; </span><br><span class="line">                temp.add(path.get(i)); </span><br><span class="line">            &#125;  </span><br><span class="line">            all_path.add(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(root.left, path);</span><br><span class="line">        dfs(root.right, path);</span><br><span class="line">        path.remove(path.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h3><h4 id="leetcode1579-保证图可完全遍历"><a href="#leetcode1579-保证图可完全遍历" class="headerlink" title="leetcode1579 保证图可完全遍历"></a>leetcode1579 保证图可完全遍历</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxNumEdgesToRemove</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[][] edges)</span> &#123;</span><br><span class="line">        <span class="type">UnionFind</span> <span class="variable">ufa</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UnionFind</span>(n);</span><br><span class="line">        <span class="type">UnionFind</span> <span class="variable">ufb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UnionFind</span>(n);</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 节点编号改为从 0 开始</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] edge : edges) &#123;</span><br><span class="line">            --edge[<span class="number">1</span>];</span><br><span class="line">            --edge[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 公共边</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] edge : edges) &#123;</span><br><span class="line">            <span class="keyword">if</span> (edge[<span class="number">0</span>] == <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!ufa.unite(edge[<span class="number">1</span>], edge[<span class="number">2</span>])) &#123;</span><br><span class="line">                    ++ans;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    ufb.unite(edge[<span class="number">1</span>], edge[<span class="number">2</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 独占边</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] edge : edges) &#123;</span><br><span class="line">            <span class="keyword">if</span> (edge[<span class="number">0</span>] == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// Alice 独占边</span></span><br><span class="line">                <span class="keyword">if</span> (!ufa.unite(edge[<span class="number">1</span>], edge[<span class="number">2</span>])) &#123;</span><br><span class="line">                    ++ans;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (edge[<span class="number">0</span>] == <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="comment">// Bob 独占边</span></span><br><span class="line">                <span class="keyword">if</span> (!ufb.unite(edge[<span class="number">1</span>], edge[<span class="number">2</span>])) &#123;</span><br><span class="line">                    ++ans;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ufa.setCount != <span class="number">1</span> || ufb.setCount != <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 并查集模板</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UnionFind</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] parent;</span><br><span class="line">    <span class="type">int</span>[] size;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="comment">// 当前连通分量数目</span></span><br><span class="line">    <span class="type">int</span> setCount;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UnionFind</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">        <span class="built_in">this</span>.setCount = n;</span><br><span class="line">        <span class="built_in">this</span>.parent = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="built_in">this</span>.size = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="comment">// 每个集合当前只有一个节点</span></span><br><span class="line">        Arrays.fill(size, <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 每个集合的初始节点</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 找到该集合首节点，条件：parent[x] == x</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findset</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="comment">// 一边寻找，一边修改路径上所有节点的父节点</span></span><br><span class="line">        <span class="keyword">return</span> parent[x] == x ? x : (parent[x] = findset(parent[x]));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">unite</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        x = findset(x);</span><br><span class="line">        y = findset(y);</span><br><span class="line">        <span class="comment">// 已经是同一个集合</span></span><br><span class="line">        <span class="keyword">if</span> (x == y) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 判断哪个集合元素多，x换成多的集合</span></span><br><span class="line">        <span class="keyword">if</span> (size[x] &lt; size[y]) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> x;</span><br><span class="line">            x = y;</span><br><span class="line">            y = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// y集合的首节点换成x，相当于合并集合</span></span><br><span class="line">        parent[y] = x;</span><br><span class="line">        size[x] += size[y];</span><br><span class="line">        <span class="comment">// 连通分量减一</span></span><br><span class="line">        --setCount;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 判断两个节点是否在同一个集合</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">connected</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        x = findset(x);</span><br><span class="line">        y = findset(y);</span><br><span class="line">        <span class="type">return</span> <span class="variable">x</span> <span class="operator">=</span>= y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="判断是否为二叉搜索树"><a href="#判断是否为二叉搜索树" class="headerlink" title="判断是否为二叉搜索树"></a>判断是否为二叉搜索树</h3><h4 id="leectcode98-验证二叉搜索树"><a href="#leectcode98-验证二叉搜索树" class="headerlink" title="leectcode98 验证二叉搜索树"></a>leectcode98 验证二叉搜索树</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidBST</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="type">long</span>[] state = <span class="keyword">new</span> <span class="title class_">long</span>[<span class="number">2</span>];</span><br><span class="line">        state[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        state[<span class="number">1</span>] = Long.MIN_VALUE;</span><br><span class="line">        helper(root,state);</span><br><span class="line">        <span class="keyword">if</span>(state[<span class="number">0</span>]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">helper</span><span class="params">(TreeNode root,<span class="type">long</span>[] state)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(root==<span class="literal">null</span>) &#123;</span><br><span class="line">            state[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        helper(root.left,state);</span><br><span class="line">        <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> root.val;</span><br><span class="line">        <span class="keyword">if</span>(state[<span class="number">0</span>]==<span class="number">0</span> || val&lt;=state[<span class="number">1</span>]) &#123;</span><br><span class="line">            state[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        state[<span class="number">1</span>] = val;</span><br><span class="line">        helper(root.right,state);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="leetcode1373-二叉搜索子树的最大键值和"><a href="#leetcode1373-二叉搜索子树的最大键值和" class="headerlink" title="leetcode1373 二叉搜索子树的最大键值和"></a>leetcode1373 二叉搜索子树的最大键值和</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 超时解法，但是很经典</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> Integer.MIN_VALUE;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSumBST</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            res = res &gt; <span class="number">0</span> ? res : <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] state = isValidBST(root);</span><br><span class="line">        <span class="keyword">if</span> (state[<span class="number">0</span>] == <span class="number">1</span>) &#123;</span><br><span class="line">            res = res &gt; state[<span class="number">2</span>] ? res : state[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        maxSumBST(root.left);</span><br><span class="line">        maxSumBST(root.right);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 判断这棵树是否为二叉搜索树</span></span><br><span class="line">    <span class="comment">// 是的话返回键值和</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] isValidBST(TreeNode root) &#123;</span><br><span class="line">        <span class="type">int</span>[] state = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];</span><br><span class="line">        state[<span class="number">0</span>] = <span class="number">0</span>;   <span class="comment">// 是否为BST</span></span><br><span class="line">        state[<span class="number">1</span>] = Integer.MIN_VALUE;   <span class="comment">// 中序遍历上一个节点的值</span></span><br><span class="line">        state[<span class="number">2</span>] = <span class="number">0</span>;   <span class="comment">// 键值和</span></span><br><span class="line">        helper(root, state);</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">helper</span><span class="params">(TreeNode root,<span class="type">int</span>[] state)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(root==<span class="literal">null</span>) &#123;</span><br><span class="line">            state[<span class="number">0</span>] =<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        helper(root.left,state);</span><br><span class="line">        <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> root.val;</span><br><span class="line">        <span class="comment">// 当前节点不满足二叉搜索树，或者左子树已经不是二叉搜索树</span></span><br><span class="line">        <span class="keyword">if</span>(val&lt;=state[<span class="number">1</span>] || state[<span class="number">0</span>]==<span class="number">0</span>)&#123;</span><br><span class="line">            state[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">            state[<span class="number">2</span>] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        state[<span class="number">1</span>] = val;</span><br><span class="line">        state[<span class="number">2</span>] = state[<span class="number">2</span>]+val;</span><br><span class="line">        helper(root.right,state);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字典树-前缀树"><a href="#字典树-前缀树" class="headerlink" title="字典树/前缀树"></a>字典树/前缀树</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TrieNode</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">SIZE</span> <span class="operator">=</span> <span class="number">26</span>;	<span class="comment">// 假设字典元素都是小写字母</span></span><br><span class="line">  TrieNode[] child;	<span class="comment">// 存放子节点</span></span><br><span class="line">  Boolean isWord;	<span class="comment">// 标记当前单词是否是单词末尾</span></span><br><span class="line">  <span class="keyword">public</span> <span class="title function_">TrieNode</span><span class="params">()</span>&#123;</span><br><span class="line">    isWord = <span class="literal">false</span>;</span><br><span class="line">    child = <span class="keyword">new</span> <span class="title class_">TrieNode</span>[SIZE];</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">preOrder</span><span class="params">(TrieNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;SIZE;i++) &#123;</span><br><span class="line">      <span class="keyword">if</span>(root.child[i]!=<span class="literal">null</span>) &#123;</span><br><span class="line">        System.out.println(i+<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span>(root.child[i].isWord) &#123;</span><br><span class="line">          System.out.println(<span class="string">&quot;(end)&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        preOrder(root.child[i]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(TrieNode root,String word)</span> &#123;</span><br><span class="line">    <span class="type">char</span>[] wordChar = word.toCharArray();</span><br><span class="line">    <span class="type">TrieNode</span> <span class="variable">presentNode</span> <span class="operator">=</span> root;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;wordChar.length;i++) &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">wordPos</span> <span class="operator">=</span> wordChar[i]-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">      <span class="keyword">if</span>(presentNode.child[wordPos]==<span class="literal">null</span>) &#123;</span><br><span class="line">        presentNode.child[wordPos]=<span class="keyword">new</span> <span class="title class_">TrieNode</span>();	<span class="comment">// 不存在创建节点</span></span><br><span class="line">      &#125;</span><br><span class="line">      presentNode = presentNode.child[wordPos];	<span class="comment">// 存在，移动指针</span></span><br><span class="line">    &#125;</span><br><span class="line">    presentNode.isWord = <span class="literal">true</span>;	<span class="comment">// 单词遍历完毕，做标记</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(TrieNode root,String word)</span> &#123;</span><br><span class="line">    <span class="type">char</span>[] wordChar = word.toCharArray();</span><br><span class="line">    <span class="type">TrieNode</span> <span class="variable">presentNode</span> <span class="operator">=</span> root;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;wordChar.length;i++) &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">wordPos</span> <span class="operator">=</span> wordChar[i]-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">      <span class="keyword">if</span>(presentNode.child[wordPos]==<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      presentNode = presentNode.child[wordPos];	<span class="comment">// 存在，移动指针</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> presentNode.isWord;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="leetcode676-实现一个魔法字典"><a href="#leetcode676-实现一个魔法字典" class="headerlink" title="leetcode676 实现一个魔法字典"></a>leetcode676 实现一个魔法字典</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MagicDictionary</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">TrieNode</span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">SIZE</span> <span class="operator">=</span> <span class="number">26</span>;	<span class="comment">// 假设字典元素都是小写字母</span></span><br><span class="line">        TrieNode[] child;	<span class="comment">// 存放子节点</span></span><br><span class="line">        Boolean isWord;	<span class="comment">// 标记当前单词是否是单词末尾</span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">TrieNode</span><span class="params">()</span>&#123;</span><br><span class="line">            isWord = <span class="literal">false</span>;</span><br><span class="line">            child = <span class="keyword">new</span> <span class="title class_">TrieNode</span>[SIZE];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(TrieNode root,String word)</span> &#123;</span><br><span class="line">            <span class="type">char</span>[] wordChar = word.toCharArray();</span><br><span class="line">            <span class="type">TrieNode</span> <span class="variable">presentNode</span> <span class="operator">=</span> root;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;wordChar.length;i++) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">wordPos</span> <span class="operator">=</span> wordChar[i]-<span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">                <span class="keyword">if</span>(presentNode.child[wordPos]==<span class="literal">null</span>) &#123;</span><br><span class="line">                    presentNode.child[wordPos]=<span class="keyword">new</span> <span class="title class_">TrieNode</span>();	<span class="comment">// 不存在创建节点</span></span><br><span class="line">                &#125;</span><br><span class="line">                presentNode = presentNode.child[wordPos];	<span class="comment">// 存在，移动指针</span></span><br><span class="line">            &#125;</span><br><span class="line">            presentNode.isWord = <span class="literal">true</span>;	<span class="comment">// 单词遍历完毕，做标记</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    TrieNode root;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MagicDictionary</span><span class="params">()</span> &#123;</span><br><span class="line">        root = <span class="keyword">new</span> <span class="title class_">TrieNode</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildDict</span><span class="params">(String[] dictionary)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (String word:dictionary) &#123;</span><br><span class="line">            root.insert(root,word);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(String word)</span> &#123;</span><br><span class="line">        <span class="type">TrieNode</span> <span class="variable">presentNode</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; word.length(); i++) &#123;<span class="comment">// 遍历待搜索字符</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> word.charAt(i);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">26</span>; j++) &#123;<span class="comment">// 遍历当前结点所有⼦结点</span></span><br><span class="line">                <span class="keyword">if</span> ((<span class="type">char</span>) (j+<span class="string">&#x27;a&#x27;</span>) == c || presentNode.child[j] == <span class="literal">null</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span> (partSearch(presentNode.child[j],word,i+<span class="number">1</span>)) <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//如果剩余字符存在当前⼦结点为root的Trie中，返回true</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(presentNode.child[c-<span class="string">&#x27;a&#x27;</span>] == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            presentNode = presentNode.child[c-<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">partSearch</span><span class="params">(TrieNode temp, String word, <span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> index; i &lt; word.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> word.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (temp.child[c-<span class="string">&#x27;a&#x27;</span>] == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            temp = temp.child[c-<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> temp.isWord;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="最长公共子序列-or-子串"><a href="#最长公共子序列-or-子串" class="headerlink" title="最长公共子序列 or 子串"></a>最长公共子序列 or 子串</h3><h4 id="leetcode1143-最长公共子序列"><a href="#leetcode1143-最长公共子序列" class="headerlink" title="leetcode1143 最长公共子序列"></a>leetcode1143 最长公共子序列</h4><p>一开始还想着用滑动窗口记录下标，以后遇到公共，不光要想到前缀后缀，还要想到dp</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestCommonSubsequence</span><span class="params">(String text1, String text2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len1</span> <span class="operator">=</span> text1.length();</span><br><span class="line">        <span class="type">int</span> <span class="variable">len2</span> <span class="operator">=</span> text2.length();</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[len1+<span class="number">1</span>][len2+<span class="number">1</span>];</span><br><span class="line">        <span class="comment">// 初始化</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=len2;i++) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=len1;i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 状态转移方程</span></span><br><span class="line">        <span class="comment">// dp[i][j] 表示 text1[0:i],text2[0:j]中最长公共子序列</span></span><br><span class="line">        <span class="comment">// dp[i][j] = dp[i-1][j-1]+1 if text[i]=text[j]</span></span><br><span class="line">        <span class="comment">// dp[i][j] = max(dp[i-1][j],dp[i][j-1]) if text[i]!=text[j]</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=len1;i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">a</span> <span class="operator">=</span> text1.charAt(i-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=len2;j++) &#123;</span><br><span class="line">                <span class="type">char</span> <span class="variable">b</span> <span class="operator">=</span> text2.charAt(j-<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(a==b) &#123;</span><br><span class="line">                    dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i][j] = Math.max(dp[i-<span class="number">1</span>][j],dp[i][j-<span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[len1][len2];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="剑指-Offer-48-最长不含重复字符的子字符串"><a href="#剑指-Offer-48-最长不含重复字符的子字符串" class="headerlink" title="剑指 Offer 48. 最长不含重复字符的子字符串"></a>剑指 Offer 48. 最长不含重复字符的子字符串</h4><p>滑动窗口！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">leftIndex</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        Map&lt;Character, Integer&gt; leftIndexMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Character, Integer&gt;();</span><br><span class="line">        <span class="type">char</span>[] charArray = s.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (leftIndexMap.containsKey(charArray[i])) &#123;   <span class="comment">// 当前数字 在之前遍历时出现过，就更新 窗口左边界</span></span><br><span class="line">                leftIndex = Math.max(leftIndex, leftIndexMap.get(charArray[i]));</span><br><span class="line">            &#125;</span><br><span class="line">            leftIndexMap.put(charArray[i], i);</span><br><span class="line"></span><br><span class="line">            result = Math.max(result, i - leftIndex);   <span class="comment">// 计算 当前结果</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="最小堆的建立"><a href="#最小堆的建立" class="headerlink" title="最小堆的建立"></a>最小堆的建立</h3><p>虽然之前说过最大堆，但是还是记一下，他是一棵完全二叉树</p>
<h4 id="leetcode373-查找和最小的K对数字"><a href="#leetcode373-查找和最小的K对数字" class="headerlink" title="leetcode373 查找和最小的K对数字"></a>leetcode373 查找和最小的K对数字</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">kSmallestPairs</span><span class="params">(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        PriorityQueue&lt;List&lt;Integer&gt;&gt; queue = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;List&lt;Integer&gt;&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(List&lt;Integer&gt; o1, List&lt;Integer&gt; o2)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(o1.get(<span class="number">0</span>)+o1.get(<span class="number">1</span>)&gt;o2.get(<span class="number">0</span>)+o2.get(<span class="number">1</span>)) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;); <span class="comment">// 最大堆</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt; Math.min(nums1.length,k);i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;Math.min(nums2.length,k);j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (queue.size()!=k || nums1[i]+nums2[j]&lt;queue.peek().get(<span class="number">0</span>)+queue.peek().get(<span class="number">1</span>))&#123;</span><br><span class="line">                    <span class="keyword">if</span>(queue.size()==k) queue.poll();</span><br><span class="line">                    List&lt;Integer&gt; pair = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">                    pair.add(nums1[i]);</span><br><span class="line">                    pair.add(nums2[j]);</span><br><span class="line">                    queue.add(pair);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;k &amp;&amp; !queue.isEmpty();i++) &#123;</span><br><span class="line">            ans.add(queue.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="螺旋矩阵问题"><a href="#螺旋矩阵问题" class="headerlink" title="螺旋矩阵问题"></a>螺旋矩阵问题</h3><h4 id="leetcode54-螺旋矩阵"><a href="#leetcode54-螺旋矩阵" class="headerlink" title="leetcode54 螺旋矩阵"></a>leetcode54 螺旋矩阵</h4><p>基础的转圈遍历</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">spiralOrder</span><span class="params">(<span class="type">int</span>[][] matrix)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; order = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(matrix==<span class="literal">null</span> || matrix.length==<span class="number">0</span> || matrix[<span class="number">0</span>].length==<span class="number">0</span>) <span class="keyword">return</span> order;</span><br><span class="line">        <span class="type">int</span> left=<span class="number">0</span>,right=matrix[<span class="number">0</span>].length-<span class="number">1</span>,top=<span class="number">0</span>,down=matrix.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left&lt;=right &amp;&amp; top&lt;=down) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> colum=left;colum&lt;=right;colum++) &#123;</span><br><span class="line">                order.add(matrix[top][colum]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> top+<span class="number">1</span>;row&lt;=down;row++) &#123;</span><br><span class="line">                order.add(matrix[row][right]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(left&lt;right &amp;&amp; top&lt;down) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> colum=right-<span class="number">1</span>;colum&gt;=left;colum--) &#123;</span><br><span class="line">                    order.add(matrix[down][colum]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> row=down-<span class="number">1</span>;row&gt;top;row--) &#123;</span><br><span class="line">                    order.add(matrix[row][left]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">            top++;</span><br><span class="line">            down--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> order;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="leetcode59-螺旋矩阵-II"><a href="#leetcode59-螺旋矩阵-II" class="headerlink" title="leetcode59 螺旋矩阵 II"></a>leetcode59 螺旋矩阵 II</h4><p>生成螺旋矩阵</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] generateMatrix(<span class="type">int</span> n) &#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">        <span class="type">int</span>[][] matrix = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">        <span class="type">int</span> left=<span class="number">0</span>,right=n-<span class="number">1</span>,top=<span class="number">0</span>,down=n-<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> num=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left&lt;=right &amp;&amp; top&lt;=down) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> colum=left;colum&lt;=right;colum++) &#123;</span><br><span class="line">                matrix[top][colum]=num;</span><br><span class="line">                num++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> top+<span class="number">1</span>;row&lt;=down;row++) &#123;</span><br><span class="line">                matrix[row][right]=num;</span><br><span class="line">                num++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(left&lt;right &amp;&amp; top&lt;down) &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> colum=right-<span class="number">1</span>;colum&gt;=left;colum--) &#123;</span><br><span class="line">                    matrix[down][colum]=num;</span><br><span class="line">                    num++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> row=down-<span class="number">1</span>;row&gt;top;row--) &#123;</span><br><span class="line">                    matrix[row][left]=num;</span><br><span class="line">                    num++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">            top++;</span><br><span class="line">            down--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> matrix;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="LCP-29-乐团站位"><a href="#LCP-29-乐团站位" class="headerlink" title="LCP 29. 乐团站位"></a>LCP 29. 乐团站位</h4><p>第一次参加周赛遇到的简单题，但是直接爆栈了，重新做一遍</p>
<p>超时算法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">orchestraLayout</span><span class="params">(<span class="type">int</span> num, <span class="type">int</span> xPos, <span class="type">int</span> yPos)</span> &#123;</span><br><span class="line">    <span class="type">int</span> left=<span class="number">0</span>,right=num-<span class="number">1</span>,top=<span class="number">0</span>,down=num-<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> n=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left&lt;=right &amp;&amp; top&lt;=down) &#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> colum=left;colum&lt;=right;colum++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(top==xPos &amp;&amp; colum==yPos) <span class="keyword">return</span> n;</span><br><span class="line">        n++;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">10</span>) n=<span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> top+<span class="number">1</span>;row&lt;=down;row++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(row==xPos &amp;&amp; right==yPos) <span class="keyword">return</span> n;</span><br><span class="line">        n++;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">10</span>) n=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(left&lt;right &amp;&amp; top&lt;down) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> colum=right-<span class="number">1</span>;colum&gt;=left;colum--) &#123;</span><br><span class="line">          <span class="keyword">if</span>(down==xPos &amp;&amp; colum==yPos) <span class="keyword">return</span> n;</span><br><span class="line">          n++;</span><br><span class="line">          <span class="keyword">if</span>(n==<span class="number">10</span>) n=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> row=down-<span class="number">1</span>;row&gt;top;row--) &#123;</span><br><span class="line">          <span class="keyword">if</span>(row==xPos &amp;&amp; left==yPos) <span class="keyword">return</span> n;</span><br><span class="line">          n++;</span><br><span class="line">          <span class="keyword">if</span>(n==<span class="number">10</span>) n=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      left++;</span><br><span class="line">      right--;</span><br><span class="line">      top++;</span><br><span class="line">      down--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>按照前两题的思路是会超时的，所以要直接判断出是在第几圈</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">orchestraLayout</span><span class="params">(<span class="type">int</span> num, <span class="type">int</span> xPos, <span class="type">int</span> yPos)</span> &#123;</span><br><span class="line">    <span class="comment">// 求圈数</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">layer</span> <span class="operator">=</span> Math.min(num-xPos-<span class="number">1</span>,xPos);</span><br><span class="line">    layer = Math.min(layer,yPos);</span><br><span class="line">    layer = Math.min(layer,num-yPos-<span class="number">1</span>);</span><br><span class="line">    <span class="type">long</span> <span class="variable">nums</span> <span class="operator">=</span> (<span class="type">long</span>) num;</span><br><span class="line">    <span class="type">long</span> count=nums*nums-(nums-<span class="number">2</span>*layer)*(nums-<span class="number">2</span>*layer);</span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> layer;</span><br><span class="line">    <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> num-layer;</span><br><span class="line">    <span class="keyword">if</span>(xPos == start)</span><br><span class="line">      <span class="keyword">return</span> (<span class="type">int</span>)((count + yPos - start) % <span class="number">9</span>) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(yPos == end - <span class="number">1</span>)</span><br><span class="line">      <span class="keyword">return</span> (<span class="type">int</span>)((count + end - start - <span class="number">1</span> + xPos - start) % <span class="number">9</span>) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(xPos == end - <span class="number">1</span>)</span><br><span class="line">      <span class="keyword">return</span> (<span class="type">int</span>)((count + (end - start)*<span class="number">2</span> - <span class="number">2</span> + end - yPos - <span class="number">1</span>) % <span class="number">9</span>) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(yPos == start)</span><br><span class="line">      <span class="keyword">return</span> (<span class="type">int</span>)((count + (end - start)*<span class="number">3</span> - <span class="number">3</span> + end - xPos - <span class="number">1</span>) % <span class="number">9</span>)+ <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="树状数组-二叉索引树"><a href="#树状数组-二叉索引树" class="headerlink" title="树状数组/二叉索引树"></a>树状数组/二叉索引树</h3><p>计算前缀和一个不错的算法</p>
<p>![image-20210408145711988](/Users/louwen/Library/Application Support/typora-user-images/image-20210408145711988.png)</p>
<p>本质是一个数组，逻辑上是树形结构，算是一个很难的思路，对我而言</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: BinaryIndexedTree 树状数组模版</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Xiaoyuyu</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@CreateDate</span>: 2021/4/8 3:58 下午</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BinaryIndexedTree</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">30</span>,<span class="number">20</span>,<span class="number">55</span>,<span class="number">74</span>,<span class="number">80</span>,<span class="number">90</span>,<span class="number">23</span>,<span class="number">99</span>,<span class="number">10</span>,<span class="number">30</span>&#125;;</span><br><span class="line">        <span class="type">BinaryIndexedTree</span> <span class="variable">bit</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BinaryIndexedTree</span>(arr.length);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">            bit.update(i,arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">            System.out.println(bit.getSum(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>[] BIT;</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BinaryIndexedTree</span><span class="params">(<span class="type">int</span> len)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.len = len;</span><br><span class="line">        BIT = <span class="keyword">new</span> <span class="title class_">int</span>[len+<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BinaryIndexedTree</span><span class="params">(<span class="type">int</span>[] BIT)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.len = BIT.length;</span><br><span class="line">        init(BIT);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(<span class="type">int</span>[] BIT)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;BIT.length;i++) &#123;</span><br><span class="line">            update(i,BIT[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> i,<span class="type">int</span> k)</span> &#123;</span><br><span class="line">        i++;</span><br><span class="line">        <span class="comment">// 更新节点个数</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i&lt;=len) &#123;</span><br><span class="line">            BIT[i]+=k;</span><br><span class="line">            i+=lowBit(i);</span><br><span class="line">            c++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// x的二进制表达式中最低位的1所对应的值</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lowBit</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSum</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        i++;</span><br><span class="line">        <span class="comment">// 更新节点个数</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i&gt;<span class="number">0</span>) &#123;</span><br><span class="line">            res+=BIT[i];</span><br><span class="line">            i-=lowBit(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="线段树"><a href="#线段树" class="headerlink" title="线段树"></a>线段树</h3><p>![image-20210408204438301](/Users/louwen/Library/Application Support/typora-user-images/image-20210408204438301.png)</p>
<p>![image-20210408204542828](/Users/louwen/Library/Application Support/typora-user-images/image-20210408204542828.png)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: SegmentTree 线段树模版</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Xiaoyuyu</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@CreateDate</span>: 2021/4/8 9:11 下午</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SegmentTree</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] values;</span><br><span class="line">    <span class="type">int</span>[] nums;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SegmentTree</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.nums = nums;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">        values = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>*n];</span><br><span class="line">        build(<span class="number">0</span>,<span class="number">0</span>,n-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">build</span><span class="params">(<span class="type">int</span> pos,<span class="type">int</span> left,<span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(left==right) &#123;</span><br><span class="line">            values[pos] = nums[left];</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left+right)/<span class="number">2</span>;</span><br><span class="line">        build(<span class="number">2</span>*pos+<span class="number">1</span>,left,mid);</span><br><span class="line">        build(<span class="number">2</span>*pos+<span class="number">2</span>,mid+<span class="number">1</span>,right);</span><br><span class="line">        values[pos] = values[<span class="number">2</span>*pos+<span class="number">1</span>]+values[<span class="number">2</span>*pos+<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">query</span><span class="params">(<span class="type">int</span> pos, <span class="type">int</span> qleft, <span class="type">int</span> qright, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;<span class="comment">// 递归的找到给定区间的最⼩值</span></span><br><span class="line">        <span class="keyword">if</span>(qleft&gt;right || qright&lt;left) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(qleft&lt;=left &amp;&amp; qright&gt;=right) <span class="keyword">return</span> values[pos];</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (qright + qleft) / <span class="number">2</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftSum</span> <span class="operator">=</span> query(<span class="number">2</span>*pos+<span class="number">1</span>,qleft,qright,left,mid);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rightSum</span> <span class="operator">=</span> query(<span class="number">2</span>*pos+<span class="number">2</span>,qleft,qright,mid+<span class="number">1</span>,right);</span><br><span class="line">        <span class="keyword">return</span> leftSum+rightSum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> pos,<span class="type">int</span> left,<span class="type">int</span> right,<span class="type">int</span> index,<span class="type">int</span> newValue)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(left==right &amp;&amp; left==index) &#123;</span><br><span class="line">            values[pos] = newValue;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (right + left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(index&lt;=mid) &#123;</span><br><span class="line">            update(<span class="number">2</span>*pos+<span class="number">1</span>,left,mid,index,newValue);</span><br><span class="line">        &#125; <span class="keyword">else</span> update(<span class="number">2</span>*pos+<span class="number">1</span>,mid+<span class="number">1</span>,right,index,newValue);</span><br><span class="line">        values[pos] = values[<span class="number">2</span>*pos+<span class="number">1</span>]+values[<span class="number">2</span>*pos+<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="位运算结论"><a href="#位运算结论" class="headerlink" title="位运算结论"></a>位运算结论</h2><h3 id="结论一-a-amp-b⊕…⊕b-a-amp-b1⊕b2⊕…⊕bm"><a href="#结论一-a-amp-b⊕…⊕b-a-amp-b1⊕b2⊕…⊕bm" class="headerlink" title="结论一 [a&amp;(b⊕…⊕b)]=a&amp;(b1⊕b2⊕…⊕bm)"></a>结论一 [<em>a</em>&amp;(<em>b</em>⊕…⊕<em>b</em>)]=<em>a</em>&amp;(<em>b</em>1⊕<em>b</em>2⊕…⊕<em>bm</em>)</h3><p>![image-20210418123238576](/Users/louwen/Library/Application Support/typora-user-images/image-20210418123238576.png)</p>
<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><h3 id="最长回文子串"><a href="#最长回文子串" class="headerlink" title="最长回文子串"></a>最长回文子串</h3><h4 id="leetcode5-最长回文子串"><a href="#leetcode5-最长回文子串" class="headerlink" title="leetcode5 最长回文子串"></a>leetcode5 最长回文子串</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">longestPalindrome</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">// dp</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.length();</span><br><span class="line">        <span class="keyword">if</span>(len&lt;<span class="number">2</span>) <span class="keyword">return</span> s;</span><br><span class="line">        <span class="comment">// dp[i][j] 表示 s[i..j] 是否是回文串</span></span><br><span class="line">        <span class="type">boolean</span>[][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span>[len][len];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;len;i++) &#123;</span><br><span class="line">            dp[i][i] = <span class="literal">true</span>;    <span class="comment">// 长度为1的字符串是回文串</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// if dp[i][j] == true &amp;&amp; s[i-1] = s[j+1] =&gt; dp[i-1][j+1] = true; else false;</span></span><br><span class="line">        <span class="type">char</span>[] charArray = s.toCharArray();</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">begin</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 先枚举子串长度</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">L</span> <span class="operator">=</span> <span class="number">2</span>; L &lt;= len; L++) &#123;</span><br><span class="line">            <span class="comment">// 枚举左边界，左边界的上限设置可以宽松一些</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                <span class="comment">// 由 L 和 i 可以确定右边界，即 j - i + 1 = L 得</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> L + i - <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// 如果右边界越界，就可以退出当前循环</span></span><br><span class="line">                <span class="keyword">if</span> (j &gt;= len) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (charArray[i] != charArray[j]) &#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (j - i &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                        dp[i][j] = <span class="literal">true</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        dp[i][j] = dp[i + <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 只要 dp[i][L] == true 成立，就表示子串 s[i..L] 是回文，此时记录回文长度和起始位置</span></span><br><span class="line">                <span class="keyword">if</span> (dp[i][j] &amp;&amp; j - i + <span class="number">1</span> &gt; maxLen) &#123;</span><br><span class="line">                    maxLen = j - i + <span class="number">1</span>;</span><br><span class="line">                    begin = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s.substring(begin, begin + maxLen);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="单源最短路径"><a href="#单源最短路径" class="headerlink" title="单源最短路径"></a>单源最短路径</h2><h3 id="leetcode743-网络延迟时间"><a href="#leetcode743-网络延迟时间" class="headerlink" title="leetcode743 网络延迟时间"></a>leetcode743 网络延迟时间</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] dist;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">networkDelayTime</span><span class="params">(<span class="type">int</span>[][] times, <span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        dist = <span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>];</span><br><span class="line">        List&lt;List&lt;<span class="type">int</span>[]&gt;&gt; adj = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=n;i++) adj.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">        Arrays.fill(dist,Integer.MAX_VALUE);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;times.length;i++) &#123;</span><br><span class="line">            adj.get(times[i][<span class="number">0</span>]).add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;times[i][<span class="number">1</span>],times[i][<span class="number">2</span>]&#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        dfs(adj,k,<span class="number">0</span>);   <span class="comment">// 当前节点到源节点的距离默认是0</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> node=<span class="number">1</span>;node&lt;=n;node++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(dist[node]==Integer.MAX_VALUE) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="comment">// 此时要选择较大值</span></span><br><span class="line">            ans=ans&gt;dist[node]?ans:dist[node];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(List&lt;List&lt;<span class="type">int</span>[]&gt;&gt; adj,<span class="type">int</span> node,<span class="type">int</span> elapsed)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(elapsed&gt;=dist[node]) <span class="keyword">return</span>;</span><br><span class="line">        dist[node] = elapsed;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;adj.get(node).size();i++) &#123;</span><br><span class="line">            <span class="type">int</span>[] ints = adj.get(node).get(i);</span><br><span class="line">            dfs(adj,ints[<span class="number">0</span>],elapsed+ints[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="优化-Dijkstra"><a href="#优化-Dijkstra" class="headerlink" title="优化 Dijkstra"></a>优化 Dijkstra</h3><p>同上题</p>
<p>以起始点为中心，一层层向外扩展：广度优先搜索+贪心</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123; </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">networkDelayTime</span><span class="params">(<span class="type">int</span>[][] times, <span class="type">int</span> N, <span class="type">int</span> K)</span> &#123; </span><br><span class="line"></span><br><span class="line"><span class="comment">//构建有权图的邻接表adj </span></span><br><span class="line"></span><br><span class="line">ArrayList&lt;ArrayList&lt;<span class="type">int</span>[]&gt;&gt; adj = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;ArrayList&lt;<span class="type">int</span>[]&gt;&gt;(N+<span class="number">1</span>); </span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i &lt;= N; i++) adj.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;<span class="type">int</span>[]&gt;()); </span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i &lt; times.length; i++) </span><br><span class="line">adj.get(times[i][<span class="number">0</span>]).add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;times[i][<span class="number">1</span>], times[i][<span class="number">2</span>]&#125;); </span><br><span class="line"></span><br><span class="line"><span class="comment">//dist存储从源节点k到各个节点的最短距离，初始化最短距离为无穷大 </span></span><br><span class="line"><span class="type">int</span>[] dist = <span class="keyword">new</span> <span class="title class_">int</span>[N+<span class="number">1</span>]; </span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">node</span> <span class="operator">=</span> <span class="number">1</span>; node &lt;= N; ++node) </span><br><span class="line">  dist[node] = Integer.MAX_VALUE; </span><br><span class="line">dist[K] = <span class="number">0</span>;</span><br><span class="line"><span class="type">boolean</span>[] visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[N+<span class="number">1</span>]; </span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123; </span><br><span class="line">  <span class="type">int</span> <span class="variable">candNode</span> <span class="operator">=</span> -<span class="number">1</span>; </span><br><span class="line">  <span class="type">int</span> <span class="variable">candDist</span> <span class="operator">=</span> Integer.MAX_VALUE; </span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= N; ++i) &#123; </span><br><span class="line">    <span class="keyword">if</span> (!visited[i] &amp;&amp; dist[i] &lt; candDist) &#123; </span><br><span class="line">      candDist = dist[i]; </span><br><span class="line">      candNode = i; </span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (candNode &lt; <span class="number">0</span>) <span class="keyword">break</span>; </span><br><span class="line">  visited[candNode] = <span class="literal">true</span>; </span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>; j&lt;adj.get(candNode).size(); j++)&#123; </span><br><span class="line">    <span class="type">int</span>[] info =adj.get(candNode).get(j); </span><br><span class="line">    dist[info[<span class="number">0</span>]] = Math.min(dist[info[<span class="number">0</span>]], dist[candNode] + info[<span class="number">1</span>]); </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">//寻找最短路径中的最大值并返回 </span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">node</span> <span class="operator">=</span> <span class="number">1</span>; node &lt;= N; ++node)&#123; </span><br><span class="line">  <span class="keyword">if</span> (dist[node] == Integer.MAX_VALUE) <span class="keyword">return</span> -<span class="number">1</span>; </span><br><span class="line">  ans = Math.max(ans, dist[node]); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ans; </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Dijkstra加上了限制"><a href="#Dijkstra加上了限制" class="headerlink" title="Dijkstra加上了限制"></a>Dijkstra加上了限制</h3><h4 id="leecode787-K-站中转内最便宜的航班"><a href="#leecode787-K-站中转内最便宜的航班" class="headerlink" title="leecode787 K 站中转内最便宜的航班"></a>leecode787 K 站中转内最便宜的航班</h4><p>这里的限制是中转次数，关键就是要注意把能走的步数也传入数据结构</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.PriorityQueue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findCheapestPrice</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[][] flights, <span class="type">int</span> src, <span class="type">int</span> dst, <span class="type">int</span> K)</span> &#123;</span><br><span class="line">        <span class="comment">// 使用邻接矩阵表示有向图，0 表示不连通</span></span><br><span class="line">        <span class="type">int</span>[][] graph = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] flight : flights) &#123;</span><br><span class="line">            graph[flight[<span class="number">0</span>]][flight[<span class="number">1</span>]] = flight[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        PriorityQueue&lt;<span class="type">int</span>[]&gt; minHeap = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;(Comparator.comparingInt(a -&gt; a[<span class="number">1</span>]));</span><br><span class="line">        <span class="comment">// 向集合添加一个记录（起点, 费用, 站数限制）的数组，K + 1 表示可以走过站点的个数</span></span><br><span class="line">        minHeap.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;src, <span class="number">0</span>, K + <span class="number">1</span>&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!minHeap.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span>[] front = minHeap.poll();</span><br><span class="line">            <span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> front[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">price</span> <span class="operator">=</span> front[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> front[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (v == dst) &#123;</span><br><span class="line">                <span class="keyword">return</span> price;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 如果还可以中转一个站</span></span><br><span class="line">            <span class="keyword">if</span> (k &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                    <span class="comment">// 并且存在一条有向边</span></span><br><span class="line">                    <span class="keyword">if</span> (graph[v][i] &gt; <span class="number">0</span> ) &#123;</span><br><span class="line">                        <span class="comment">// 优先队列中存入：有向边指向的顶点 i、从起点 src 到 i 的总路径长度、还有多少站可以中转</span></span><br><span class="line">                        minHeap.offer(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i, price + graph[v][i]  , k - <span class="number">1</span>&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="迷宫问题"><a href="#迷宫问题" class="headerlink" title="迷宫问题"></a>迷宫问题</h2><p>一类很经典的图</p>
<h3 id="leetcode505-迷宫-II"><a href="#leetcode505-迷宫-II" class="headerlink" title="leetcode505 迷宫 II"></a>leetcode505 迷宫 II</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dfs</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">shortestDistance</span><span class="params">(<span class="type">int</span>[][] maze, <span class="type">int</span>[] start, <span class="type">int</span>[] dest)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][] distance = <span class="keyword">new</span> <span class="title class_">int</span>[maze.length][maze[<span class="number">0</span>].length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] row: distance)</span><br><span class="line">            Arrays.fill(row, Integer.MAX_VALUE);</span><br><span class="line">        distance[start[<span class="number">0</span>]][start[<span class="number">1</span>]] = <span class="number">0</span>;</span><br><span class="line">        dfs(maze, start, distance);</span><br><span class="line">        <span class="keyword">return</span> distance[dest[<span class="number">0</span>]][dest[<span class="number">1</span>]] == Integer.MAX_VALUE ? -<span class="number">1</span> : distance[dest[<span class="number">0</span>]][dest[<span class="number">1</span>]];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] maze, <span class="type">int</span>[] start, <span class="type">int</span>[][] distance)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][] dirs=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;, &#123;<span class="number">0</span>,-<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] dir: dirs) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> start[<span class="number">0</span>] + dir[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> start[<span class="number">1</span>] + dir[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (x &gt;= <span class="number">0</span> &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; x &lt; maze.length &amp;&amp; y &lt; maze[<span class="number">0</span>].length &amp;&amp; maze[x][y] == <span class="number">0</span>) &#123;</span><br><span class="line">                x += dir[<span class="number">0</span>];</span><br><span class="line">                y += dir[<span class="number">1</span>];</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 撞墙了才会停，所以要撤销一个单元的距离</span></span><br><span class="line">            <span class="keyword">if</span> (distance[start[<span class="number">0</span>]][start[<span class="number">1</span>]] + count &lt; distance[x - dir[<span class="number">0</span>]][y - dir[<span class="number">1</span>]]) &#123;</span><br><span class="line">                distance[x - dir[<span class="number">0</span>]][y - dir[<span class="number">1</span>]] = distance[start[<span class="number">0</span>]][start[<span class="number">1</span>]] + count;</span><br><span class="line">                <span class="comment">// 找到新的起点继续</span></span><br><span class="line">                dfs(maze, <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x - dir[<span class="number">0</span>],y - dir[<span class="number">1</span>]&#125;, distance);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="leetcode499-迷宫-III"><a href="#leetcode499-迷宫-III" class="headerlink" title="leetcode499 迷宫 III"></a>leetcode499 迷宫 III</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dfs+回溯</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] dist;</span><br><span class="line">    <span class="keyword">public</span> Map&lt;String,Integer&gt; path = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="variable">step</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">StringBuilder</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">findShortestWay</span><span class="params">(<span class="type">int</span>[][] maze, <span class="type">int</span>[] ball, <span class="type">int</span>[] hole)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(maze.length==<span class="number">0</span> || maze[<span class="number">0</span>].length==<span class="number">0</span>) <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        dist = <span class="keyword">new</span> <span class="title class_">int</span>[maze.length][maze[<span class="number">0</span>].length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] row: dist)</span><br><span class="line">            Arrays.fill(row, Integer.MAX_VALUE);</span><br><span class="line">        dist[ball[<span class="number">0</span>]][ball[<span class="number">1</span>]]=<span class="number">0</span>;</span><br><span class="line">        dfs(maze,ball,hole,step);</span><br><span class="line">        <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">        String ans=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(path.size()==<span class="number">0</span>) &#123;</span><br><span class="line">            ans = <span class="string">&quot;impossible&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;String,Integer&gt; elem:path.entrySet()) &#123;</span><br><span class="line">            System.out.println(elem.getKey());</span><br><span class="line">            System.out.println(elem.getValue());</span><br><span class="line">            <span class="keyword">if</span>(min&gt;elem.getValue()) &#123;</span><br><span class="line">                ans = elem.getKey();</span><br><span class="line">                min = elem.getValue();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(min==elem.getValue()) &#123;</span><br><span class="line">                <span class="comment">// 比较字典序</span></span><br><span class="line">                <span class="type">int</span> idx=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span>(idx&lt;ans.length() || idx&lt;elem.getKey().length()) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(idx==ans.length()) <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">if</span>(idx==elem.getKey().length())&#123;</span><br><span class="line">                        ans = elem.getKey();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="type">char</span> <span class="variable">a</span> <span class="operator">=</span> ans.charAt(idx);</span><br><span class="line">                    <span class="type">char</span> <span class="variable">b</span> <span class="operator">=</span> elem.getKey().charAt(idx);</span><br><span class="line">                    <span class="keyword">if</span>(a&lt;b) &#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(a&gt;b) &#123;</span><br><span class="line">                        ans = elem.getKey();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> idx++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] maze, <span class="type">int</span>[] ball, <span class="type">int</span>[] hole,<span class="type">int</span> step)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][] dirs = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line">        String[] forward = &#123;<span class="string">&quot;d&quot;</span>,<span class="string">&quot;u&quot;</span>,<span class="string">&quot;r&quot;</span>,<span class="string">&quot;l&quot;</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;dirs.length;i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(s.toString().equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">                step=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> ball[<span class="number">0</span>]+dirs[i][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> ball[<span class="number">1</span>]+dirs[i][<span class="number">1</span>];</span><br><span class="line">            s.append(forward[i]);</span><br><span class="line">            <span class="comment">//System.out.println(s);</span></span><br><span class="line">            <span class="comment">//System.out.println(s);</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> step;</span><br><span class="line">            <span class="comment">// System.out.println(s.toString());</span></span><br><span class="line">            <span class="comment">//System.out.println(step);</span></span><br><span class="line">            <span class="keyword">while</span> (x &gt;= <span class="number">0</span> &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; x &lt; maze.length &amp;&amp; y &lt; maze[<span class="number">0</span>].length &amp;&amp; maze[x][y] == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(x==hole[<span class="number">0</span>] &amp;&amp; y==hole[<span class="number">1</span>]) &#123;</span><br><span class="line">                    path.put(s.toString(),step);</span><br><span class="line">                    s.deleteCharAt(s.length()-<span class="number">1</span>); <span class="comment">// 回溯</span></span><br><span class="line">                    step = temp;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                x += dirs[i][<span class="number">0</span>];</span><br><span class="line">                y += dirs[i][<span class="number">1</span>];</span><br><span class="line">                step++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 撞墙了才会停，所以要撤销一个单元的距离</span></span><br><span class="line">            <span class="keyword">if</span> (dist[ball[<span class="number">0</span>]][ball[<span class="number">1</span>]] + step &lt; dist[x - dirs[i][<span class="number">0</span>]][y - dirs[i][<span class="number">1</span>]]) &#123;</span><br><span class="line">                dist[x - dirs[i][<span class="number">0</span>]][y - dirs[i][<span class="number">1</span>]] = dist[ball[<span class="number">0</span>]][ball[<span class="number">1</span>]] + step;</span><br><span class="line">                <span class="comment">// 找到新的起点继续</span></span><br><span class="line">                dfs(maze, <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x - dirs[i][<span class="number">0</span>],y - dirs[i][<span class="number">1</span>]&#125;,hole,step);</span><br><span class="line">            &#125;</span><br><span class="line">            s.deleteCharAt(s.length()-<span class="number">1</span>); <span class="comment">// 回溯</span></span><br><span class="line">            step = temp;</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h2><h3 id="入度表（广度优先遍历）"><a href="#入度表（广度优先遍历）" class="headerlink" title="入度表（广度优先遍历）"></a>入度表（广度优先遍历）</h3><h4 id="leetcode207-课程表"><a href="#leetcode207-课程表" class="headerlink" title="leetcode207 课程表"></a>leetcode207 课程表</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canFinish</span><span class="params">(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites)</span> &#123;</span><br><span class="line">        <span class="comment">// 入度表</span></span><br><span class="line">        <span class="type">int</span>[] indegree = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">        <span class="comment">// 指向自己的节点构成的临界表</span></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; adj = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 入度为0的队列</span></span><br><span class="line">        Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++) &#123;</span><br><span class="line">            adj.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] cp : prerequisites) &#123;</span><br><span class="line">            indegree[cp[<span class="number">0</span>]]++;</span><br><span class="line">            adj.get(cp[<span class="number">1</span>]).add(cp[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(indegree[i]==<span class="number">0</span>) queue.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">pre</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            numCourses--;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> cur : adj.get(pre)) &#123;</span><br><span class="line">                indegree[cur]--;</span><br><span class="line">                <span class="keyword">if</span>(indegree[cur]==<span class="number">0</span>) queue.add(cur);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> numCourses==<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="leetcode210-课程表-II"><a href="#leetcode210-课程表-II" class="headerlink" title="leetcode210 课程表 II"></a>leetcode210 课程表 II</h4><p>上一题是判断能否形成拓扑，这次需要把路径也写出来</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] findOrder(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">        <span class="keyword">if</span>(numCourses==<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span>[] indegree = <span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; adj = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Queue&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++) &#123;</span><br><span class="line">            adj.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] cp : prerequisites)&#123;</span><br><span class="line">            indegree[cp[<span class="number">0</span>]]++;</span><br><span class="line">            adj.get(cp[<span class="number">1</span>]).add(cp[<span class="number">0</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(indegree[i]==<span class="number">0</span>) queue.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Integer&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">pre</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">            numCourses--;</span><br><span class="line">            ans.add(pre);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> cur : adj.get(pre)) &#123;</span><br><span class="line">                indegree[cur]--;</span><br><span class="line">                <span class="keyword">if</span>(indegree[cur]==<span class="number">0</span>) queue.add(cur);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(numCourses!=<span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> ans.stream().mapToInt(Integer::intValue).toArray();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="笔试常见题目"><a href="#笔试常见题目" class="headerlink" title="笔试常见题目"></a>笔试常见题目</h2><h3 id="key"><a href="#key" class="headerlink" title="key"></a>key</h3><p>要注意很多企业的机试题都是PAT模式，需要自己写输入输出，如果不用写的话，不是树、图的送分题，就是很难得。</p>
<p>同时要会写白板，比如字节是不允许使用本地IDE的，同时面试阶段的算法题基本也不太会给你使用IDE，需要看面试官好不好说话了。</p>
<p>多写！！！！多去面试机试会习惯的，最差的状态就是第一二次机试的时候，习惯就好了。</p>
<h3 id="过河问题"><a href="#过河问题" class="headerlink" title="过河问题"></a>过河问题</h3><p><strong>问题：</strong>　</p>
<p>　　在漆黑的夜里，N位旅行者来到了一座狭窄而且没有护栏的桥边。如果不借助手电筒的话，大家是无论如何也不敢过桥去的。不幸的是，N个人一共只带了一只手电筒，而桥窄得只够让两个人同时过。如果各自单独过桥的话，N人所需要的时间已知；而如果两人同时过桥，所需要的时间就是走得比较慢的那个人单独行动时所需的时间。问题是，如何设计一个方案，让这N人尽快过桥。</p>
<p><strong>输入：</strong><br>　　第一行是一个整数T(1&lt;=T&lt;=20)表示测试数据的组数<br>　　每组测试数据的第一行是一个整数N(1&lt;=N&lt;=1000)表示共有N个人要过河<br>　　每组测试数据的第二行是N个整数Si,表示此人过河所需要花时间。(0&lt;Si&lt;=100)<br><strong>输出：</strong><br>　　输出所有人都过河需要用的最少时间。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> class 快速渡河 &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">T</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; T; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            <span class="type">int</span>[] speed = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                speed[j] = sc.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 排序</span></span><br><span class="line">            Arrays.sort(speed);</span><br><span class="line">            f(n, speed);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[] speed)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> n;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (left == <span class="number">1</span>) &#123;<span class="comment">// 只有1人</span></span><br><span class="line">                ans += speed[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="number">2</span>) &#123;<span class="comment">// 只有两人</span></span><br><span class="line">                ans += speed[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (left == <span class="number">3</span>) &#123;<span class="comment">// 有三人</span></span><br><span class="line">                ans += speed[<span class="number">2</span>] + speed[<span class="number">0</span>] + speed[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 1，2出发，1返回，最后两名出发，2返回</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">s1</span> <span class="operator">=</span> speed[<span class="number">1</span>] + speed[<span class="number">0</span>] + speed[left - <span class="number">1</span>] + speed[<span class="number">1</span>];</span><br><span class="line">                <span class="comment">// 1，3出发，1返回，1，4出发，1返回，1，2过河</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">s2</span> <span class="operator">=</span> speed[left - <span class="number">1</span>] + speed[left - <span class="number">2</span>] + <span class="number">2</span> * speed[<span class="number">0</span>];</span><br><span class="line">                ans += Math.min(s1, s2);</span><br><span class="line">                left -= <span class="number">2</span>;<span class="comment">// 左侧是渡河的起点，left代表左侧的剩余人数</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(ans);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数组元素消除问题"><a href="#数组元素消除问题" class="headerlink" title="数组元素消除问题"></a>数组元素消除问题</h3><p>要考虑用<strong>栈</strong>以及索引，其实不难，但遇到了脑子卡住了会无法ac，其实就是括号判断问题，要多想类似的东西，给自己提个醒，力扣2000多道题，机试要是新创一个非工程合适的题目是很难得，要多联想。</p>
<p><strong>描述：</strong><br>给出一个有0-9的数字组成的字符串，相邻的两个数字和为10时可以被消去。<br>问最后字符的长度时多少？</p>
<p>例如 213792，第一步可以消成2192，第二步消解为22.所以长度为2<br><strong>输入：</strong><br>第一行输入一个 n表示长度<br>第二行输入一个字符串</p>
<p><strong>输出：</strong><br>输出一个整数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//        System.out.println(Integer.MAX_VALUE);</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;不能消除&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">        Deque&lt;Integer&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> aChar : chars) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> Integer.parseInt(String.valueOf(aChar));</span><br><span class="line">            <span class="keyword">if</span> (!queue.isEmpty()) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">last</span> <span class="operator">=</span> queue.peekLast();</span><br><span class="line">                <span class="keyword">if</span> (last + temp == <span class="number">10</span>) &#123;</span><br><span class="line">                    queue.pollLast();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    queue.addLast(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                queue.addLast(temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(queue.size());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="正向充电？暴力二分！"><a href="#正向充电？暴力二分！" class="headerlink" title="正向充电？暴力二分！"></a>正向充电？暴力二分！</h3><p>yysy，这题最直观的想法就是按照当前电量和耗电量比值排序，当时也是这么做的，但是迷了</p>
<p>参考链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42482617/article/details/115434458">https://blog.csdn.net/weixin_42482617/article/details/115434458</a></p>
<p>题主是直接拿时间去代是否可以存活这么久，学到了。以后不光要想着正向的求解，还可以直接拿答案去判断成不成立。</p>
<p><strong>描述：</strong><br>充电问题<br><strong>输入：</strong><br>输入t表示案例数<br>输入n，w分别表示手机数和充电器功率<br>接下来的n行输入 a[i] b[i]表示每一部手机初始电量，和每一秒消耗的电量</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line">ll t,n;</span><br><span class="line"><span class="type">double</span> w;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">	<span class="type">int</span> a,b;</span><br><span class="line">&#125;a[maxn];</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">double</span> mid)</span></span>&#123;<span class="comment">//判断是否可行</span></span><br><span class="line">	<span class="type">double</span> ans=mid*w;<span class="comment">//总电量</span></span><br><span class="line">	<span class="type">double</span> cnt=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="type">double</span> x=mid*(<span class="type">double</span>)a[i].b-(<span class="type">double</span>)a[i].a;<span class="comment">//每一个手机的需求</span></span><br><span class="line">		<span class="keyword">if</span>(ans&gt;=x&amp;&amp;x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">			cnt+=x/w;<span class="comment">//充电的总时间</span></span><br><span class="line">			ans-=x;</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(x&lt;<span class="number">0</span>)&#123;<span class="comment">//如果需求为负数则不需要操作</span></span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;<span class="comment">//无法满足，直接返回false</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(cnt&gt;mid)<span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//如若充电事件大于mid也为false</span></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	<span class="keyword">while</span>(t--)&#123;</span><br><span class="line">		cin&gt;&gt;n&gt;&gt;w;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">			cin&gt;&gt;a[i].a&gt;&gt;a[i].b;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">double</span> l=<span class="number">0</span>,r=<span class="number">1e18</span>,pos=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(l&lt;r)&#123;<span class="comment">//二分</span></span><br><span class="line">			<span class="type">double</span> mid=(l+r)/<span class="number">2.0</span>;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">check</span>(mid))&#123;</span><br><span class="line">				l=mid;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				r=mid;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">fabs</span>(mid-pos)&lt;<span class="number">1e-7</span>)&#123;<span class="comment">//当前一次的答案和本次的答案差距在1e-7之内，则精度符合要求</span></span><br><span class="line">				pos=mid;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				pos=mid;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(r==<span class="number">1e18</span>)&#123;<span class="comment">//如若最后r不变，则表示答案无限大，输出-1</span></span><br><span class="line">			cout&lt;&lt;<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;反之输出pos</span><br><span class="line">			cout&lt;&lt;pos&lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="a-i-a-j-i-j"><a href="#a-i-a-j-i-j" class="headerlink" title="a[i]+a[j]+i-j"></a>a[i]+a[j]+i-j</h3><p>处理元素和下标关系的，其实暴力能60左右，当时机试的时候一直想怎么优化，但是只能优化到75，参考网上答案最后结果如下</p>
<p>参考链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/Kaiyang_Shao/article/details/90545232">https://blog.csdn.net/Kaiyang_Shao/article/details/90545232</a></p>
<p>问题</p>
<p>给定一个整数数组，求数组中两个数关于公式 a[i]+a[j]+i-j 的最大值，即找两个数，这两个数相加并减去两个数之间的下标距离，求得最大值。<br>例如：<br>input:<br>3<br>1 2 3<br>output:<br>4(选择的两个数是2和3)</p>
<p>扩展：这个题目可以有变形，例如求一个数组中两数和的最大值，两数差的最大值，或两数和差和某些变量构成的公式的最大值。</p>
<p>左边：A[0]+0 , A[1]+1 , A[i]+i , … , A[k]+k<br>右边：A[k+1]-k-1 , A[k+2]-k-2 , … , A[j]-j , … , A[n-1]-n+1</p>
<p>找到两边的最大值然后加起来，以后遇到了四个元素和优化的时候要想到能不能合并成两个。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 卡牌游戏</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] cards = &#123;<span class="number">8</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>&#125;;</span><br><span class="line">        <span class="type">test4</span> <span class="variable">test4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">test4</span>();</span><br><span class="line">        System.out.println(test4.bestCardPair(cards));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*public int bestCardPair (int[] cards) &#123;</span></span><br><span class="line"><span class="comment">        // write code here</span></span><br><span class="line"><span class="comment">        int ans = Integer.MIN_VALUE;</span></span><br><span class="line"><span class="comment">        int[] temp = new int[cards.length];</span></span><br><span class="line"><span class="comment">        for(int i=0;i&lt;cards.length;i++) &#123;</span></span><br><span class="line"><span class="comment">            temp[i] = cards[i];</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        Arrays.sort(temp);</span></span><br><span class="line"><span class="comment">        int num = temp[temp.length-2]+temp[temp.length-1];</span></span><br><span class="line"><span class="comment">        for(int i=0;i&lt;cards.length;i++) &#123;</span></span><br><span class="line"><span class="comment">            for(int j=i+1;j&lt;cards.length;j++) &#123;</span></span><br><span class="line"><span class="comment">                if(-(i-j)&gt;num) break;</span></span><br><span class="line"><span class="comment">                int sub = i-j;</span></span><br><span class="line"><span class="comment">                int add = cards[i]+cards[j];</span></span><br><span class="line"><span class="comment">                int now = add+sub;</span></span><br><span class="line"><span class="comment">                ans = Math.max(ans,now);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return ans;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">bestCardPair</span> <span class="params">(<span class="type">int</span>[] score)</span> &#123;</span><br><span class="line">        <span class="comment">// write code here</span></span><br><span class="line">        <span class="type">int</span> tmp=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxScore</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxLeftScore</span> <span class="operator">=</span> score[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; score.length; i++)&#123;</span><br><span class="line">            tmp = maxLeftScore + score[i] - i;</span><br><span class="line">            <span class="keyword">if</span>(tmp &gt; maxScore)&#123;</span><br><span class="line">                maxScore = tmp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(score[i] + i &gt; maxLeftScore)&#123;</span><br><span class="line">                maxLeftScore = score[i] + i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxScore;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="京东的合成大西瓜"><a href="#京东的合成大西瓜" class="headerlink" title="京东的合成大西瓜"></a>京东的合成大西瓜</h3><p>知道该用贪心，但是自己做的时候只ac了36</p>
<p>牛客网上翻到了答案，但我暂时理解不了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2021年过年，小明在玩合成大西瓜。他听说你会编代码，他想让你帮他拿最高分。</span></span><br><span class="line"><span class="comment">//但你显然并不会如此编程，所以你想了个简易版的合成大西瓜来糊弄小明。</span></span><br><span class="line"><span class="comment">//规则是这样的，有一串数字序列，当序列到来时，你们可以选择让数字掉落在左边或者右边。已掉落的只有左右两列。</span></span><br><span class="line"><span class="comment">//如果掉落到一列的数字和此列原有的顶部数字相同，将会合成一个原来的数字并记1分，不同的数字则会堆积（顶部数字换为新掉落的数字）并不计分。</span></span><br><span class="line"><span class="comment">//例如，左右两边的顶部元素分别是1，2，此时掉落1，如果你让它掉在左边，左边两个元素1合并，并积一分，如果你让它掉在右边，两边的顶部元素就会变成1，1，并且不计分。</span></span><br><span class="line"><span class="comment">//小明能提前得知数字序列，请你帮忙计算在现有规则下的最大得分。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Scanner sc=<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> N=sc.nextInt();</span><br><span class="line">        sc.nextLine();</span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; data=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">front</span> <span class="operator">=</span> -<span class="number">1</span>, cur = <span class="number">0</span>, res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            cur=sc.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (cur == front)</span><br><span class="line">                res++;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                data.add(cur);</span><br><span class="line">                front = cur;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> data.get(<span class="number">0</span>);</span><br><span class="line">        HashSet&lt;Integer&gt;room =<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        room.add(left);</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (r &lt; data.size()) &#123;</span><br><span class="line">            <span class="keyword">while</span> (r &lt; data.size() &amp;&amp; !room.contains(data.get(r) ) )</span><br><span class="line">                room.add(data.get(r++) );</span><br><span class="line">            <span class="keyword">if</span> (r == data.size())</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            res++;</span><br><span class="line">            <span class="keyword">while</span> (l + <span class="number">1</span>&lt; r) &#123;</span><br><span class="line">                room.remove(data.get(l) );</span><br><span class="line">                l++;</span><br><span class="line">            &#125;</span><br><span class="line">            room.add(data.get(r++) );</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="岛屿个数问题：数组的dfs-bfs"><a href="#岛屿个数问题：数组的dfs-bfs" class="headerlink" title="岛屿个数问题：数组的dfs/bfs"></a>岛屿个数问题：数组的dfs/bfs</h3><p>leetcode200 岛屿数量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numIslands</span><span class="params">(<span class="type">char</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(grid[i][j]==<span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">                    dfs(grid,i,j);</span><br><span class="line">                    cnt++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] grid,<span class="type">int</span> i,<span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span> || j&lt;<span class="number">0</span> || i&gt;=grid.length || j&gt;=grid[<span class="number">0</span>].length || grid[i][j]==<span class="string">&#x27;0&#x27;</span>) <span class="keyword">return</span>;</span><br><span class="line">        grid[i][j]=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        dfs(grid,i+<span class="number">1</span>,j);</span><br><span class="line">        dfs(grid,i,j+<span class="number">1</span>);</span><br><span class="line">        dfs(grid,i-<span class="number">1</span>,j);</span><br><span class="line">        dfs(grid,i,j-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="最长连续序列"><a href="#最长连续序列" class="headerlink" title="最长连续序列"></a>最长连续序列</h3><p>leetcode128 最长连续序列</p>
<p>给定一个未排序的整数数组 <code>nums</code> ，找出数字连续的最长序列（不要求序列元素在原数组中连续）的长度。</p>
<p>思路很巧妙，用了一个set轻松解决。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestConsecutive</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        Set&lt;Integer&gt; num_set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : nums) &#123;</span><br><span class="line">            num_set.add(num);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">longestStreak</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : num_set) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!num_set.contains(num - <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">currentNum</span> <span class="operator">=</span> num;</span><br><span class="line">                <span class="type">int</span> <span class="variable">currentStreak</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (num_set.contains(currentNum + <span class="number">1</span>)) &#123;</span><br><span class="line">                    currentNum += <span class="number">1</span>;</span><br><span class="line">                    currentStreak += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                longestStreak = Math.max(longestStreak, currentStreak);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> longestStreak;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/09/%E7%AE%97%E6%B3%95%E7%AA%81%E5%87%BB%E8%AE%AD%E7%BB%83%E7%AC%94%E8%AE%B0/" data-id="cl0jinmyy00010cwuhkxw3yft" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/03/09/hello-world/" class="article-date">
  <time datetime="2022-03-09T11:59:36.570Z" itemprop="datePublished">2022-03-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/03/09/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/09/hello-world/" data-id="cl0jinmyt00000cwu27fn3jvw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/09/%E7%AE%97%E6%B3%95%E7%AA%81%E5%87%BB%E8%AE%AD%E7%BB%83%E7%AC%94%E8%AE%B0/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/03/09/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>